import './script.js'
import {Appear} from 'mdx-deck'
import WhiteLayout from './components/white-layout'
import {RandomlyPlaced} from './components/randomly-placed'
import DemoLayout from './components/demo-layout'
import {UnControlled as CodeMirror} from 'react-codemirror2'

import {
  useState, 
  setState, 
  oldState, 
  intersujeNasUseState, 
  syntaxUseState, 
  wiecejStatowUse, 
  wiecejStateowNieUse,
  innaczejUseState,
  lazyUseState,
  hoverCode,
  filtrowaniePoImieniu,
  oficjalnieUseEffect,
  syntaxUseEffect,
  przykladowoUseEffectSub,
  przykladowoUseEffectDeps,
  kilkaUseEffect,
  jaChceTylkoRaz,
  useEffectRozwiazanie,
  useFavCustom,
  useFavCode,
  czystaFunkcja
} from './code'

export {default as theme} from './theme'

export default WhiteLayout

# âš›ï¸ React Hooks âš›ï¸
  <div style={{marginTop: "50px"}}>
    <img  height="150px" src="public/dm-logo.png" />
  </div>
  <div style={{marginTop: "50px"}}>
    <img height="200px" src="public/logo-alt.png" />
  </div>
  <div style={{marginTop: "50px"}}>
    <img  height="170px" src="public/codete.jpg" />
  </div>
  <div style={{marginTop: "50px"}}>
    âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸âš›ï¸
  </div>

---
export default WhiteLayout

# Poznajmy siÄ™!
### Za moment rozpoczniemy icebreakera
### PrzeÅ‚amiemy lody i poznamy innych uczestnikÃ³w oraz mentorÃ³w

<img width="70px" height="70px" src="public/standard/big-smile.png" />

---

export default WhiteLayout

# Jak to?!
### To bÄ™dzie test z rozumienia algorytmu:
1. wstaÅ„ 
2. podejdÅº i przywitaj siÄ™ z nieznajomÄ… osobÄ… ktÃ³ra jest najblizej
3. powiedz coÅ› o sobie przez 1min
4. nastÄ™pnie daj szansÄ™ powiedzieÄ‡ coÅ› drugiej osobie przez 1min
5. prowadzÄ…cy daje sygnaÅ‚ do "zmiany!"
6. powtarzaj punkty od 2 do 5 az prowadzÄ…cy powie "koniec!"


<img width="70px" height="70px" src="public/standard/big-smile.png" />

---

export default WhiteLayout

# Okay, mamy to za sobÄ…...

---

export default WhiteLayout


<Appear>
  <div>
    <RandomlyPlaced
      style={{
        bottom: '30%',
        right: '5%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
      <img width="400px" height="400px" src="public/person.png" />
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
           bottom: '20%',
        right: '5%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
       Bartek Widlarz
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(5deg)',
        top: '10%',
        left: '20%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
       <img height="200px" src="public/logo-alt.png" />
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
                transform: 'rotate(5deg)',
        top: '70%',
        left: '20%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
        <img  height="150px" src="public/dm-logo.png" />
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(5deg)',
        top: '40%',
        left: '20%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
      Blog techniczny: bwidlarz.com
    </RandomlyPlaced>
  </div>
  
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(-10deg)',
        top: '10%',
        left: '60%'
      }}
            customStyle={{backgroundColor: '#ffffff'}}
    >
      React
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(-20deg)',
       top: '20%',
        left: '60%'
      }}
    customStyle={{backgroundColor: '#ffffff'}}
    >
      React Native
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
      transform: 'rotate(-30deg)',
       top: '30%',
        left: '62%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
      TypeScript
    </RandomlyPlaced>
  </div>

  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(10deg)',
        top: '10%',
        left: '10%'
      }}
            customStyle={{backgroundColor: '#ffffff'}}
    >
      Swift
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(10deg)',
        top: '20%',
        left: '10%'
      }}
    customStyle={{backgroundColor: '#ffffff'}}
    >
      Kotlin
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
      transform: 'rotate(10deg)',
        top: '30%',
        left: '10%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
      Elixir
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
      transform: 'rotate(10deg)',
        top: '40%',
        left: '0%'
      }}
      customStyle={{backgroundColor: '#ffffff'}}
    >
      Fullstack Serverless
    </RandomlyPlaced>
  </div>
</Appear>

---
export default WhiteLayout

# Mentorzy ğŸ‘
<Appear>
  <div>
    <strong style={{fontSize: '2em'}}>BartÅ‚omiej Bajda</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>Daniel GrychtoÅ‚</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>Kamil Szubrycht</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>Katarzyna TobiÅ›</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>MichaÅ‚ Czapkowicz</strong>
  </div>
</Appear>

---

export default WhiteLayout

# Agenda

- 9:00 - 10:00 - rÃ³Å¼noÅ›ci
- 10:00 - 10:15 - przerwa
- 10:15 - 12:30 - I etap
- 12:30 - 13:15 - jemy pizze
- 13:15 - 16:00 - II etap 
- Fajne rzeczy: https://github.com/TheWidlarzGroup
---

export default WhiteLayout

# O czym sÄ… te warsztaty

- useState
- useEffect
- custom hooki

---

# ğŸš€ Let's get started ğŸš€

---
  <div>
      <strong style={{fontSize: '2em'}}>PotrzebowaÅ‚eÅ› mieÄ‡ stan albo efekty uboczne w komponencie Reactowym
      </strong>
  </div>

<Appear>
  <div>
      <strong style={{fontSize: '2em'}}>= klasa</strong>
  </div>
  <div>
      <strong style={{fontSize: '2em'}}>Nie potrzebowaÅ‚eÅ›</strong>
  </div>
  <div>
      <strong style={{fontSize: '2em'}}>= funkcja</strong>
  </div>
</Appear>

---

```notes
W wielu opracowaniach na temat React HooksÃ³w moÅ¼na znaleÅºÄ‡ tak napisany komponent z podpisem Å¼e to jest komponent klasowy.
KtoÅ› z Was piszÄ™ tak komponenty dzisiaj?
CoÅ› Wam tutaj nie pasuje?
Tak, nie potrzebujemy bindowaÄ‡, nie potrzeba konstruktora.
```

<div>

<CodeMirror
      value={oldState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>
<Appear>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(30deg)',
        top: '30%',
        left: '20%'
      }}
    >
      bind?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(30deg)',
        bottom: '10%',
        left: '10%'
      }}
    >
      a gdzie fat arrow?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(10deg)',
        bottom: '30%',
        right: '20%'
      }}
    >
      constructor lol
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(-10deg)',
        bottom: '10%',
        right: '30%'
      }}
    >
      jak to mozna state = i jest
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(-20deg)',
        top: '10%',
        left: '60%'
      }}
    >
      ktÃ³ry mamy rok?!
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        top: 0,
        bottom: 0,
        left: 0,
        right: 0,
        fontWeight: 'bold',
        fontSize: '5rem',
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center',
      }}
    >
      REKLAMA HOOKÃ“W!
    </RandomlyPlaced>
  </div>
</Appear>

</div>

---


```notes
Tutaj juÅ¼ odchudzona wersja.
TakÄ… pewnie piszecie na codzieÅ„.
Ten komponent uÅ¼ywa setState do ustawiania swojego stanu wewnÄ™trznego. 
```

<CodeMirror
      value={setState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
A tak wyglÄ…da komponent ktÃ³ry uÅ¼ywa hooka useState do tego samego celu.  
```

<CodeMirror
      value={useState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
Kilka rzeczy odnoÅ›nie hookÃ³w omÃ³wimy na przykÅ‚adzie useState a kilka na useEffect
```

# useState


---

```notes
tak wyglÄ…da syntax z useState
jest tutaj kilka rzeczy
- hook useState przyjmuje wartoÅ›Ä‡ poczÄ…tkowÄ… stanu w przy przypadku 0
- zwraca tablice gdzie pierwszym elementem jest aktualna wartoÅ›Ä‡ stanu,
- drugim elementem jest setter dla stanu, jest to funkcja ktÃ³ra przyjmuje jako wartoÅ›Ä‡ nowÄ… wartoÅ›Ä‡ stanu
```

<CodeMirror
      value={syntaxUseState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
To co jest fajne w tym nowym syntaxie to to Å¼e dostajemy od razu settery 
i nie musimy przepuszczaÄ‡ nowego stanu przez setState
```

<CodeMirror
      value={wiecejStatowUse}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
a tak wyglÄ…da kied mamy setStaty, dobrze po prostu pisac te pomocnicze funkcje
```

<CodeMirror
      value={wiecejStateowNieUse}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
moÅ¼emy teÅ¼ udpateowaÄ‡ state funkcja, przez co nie musimy siÄ™ odnosiÄ‡ do statu bezpoÅ›rednio
```

<CodeMirror
      value={innaczejUseState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
moÅ¼emy podaÄ‡ funkcje do initial statu, po to Å¼eby zrobiÄ‡ ustalanie tego poczÄ…tkowego stanu leniwie
```

<CodeMirror
      value={lazyUseState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
funkcje bez efektÃ³w ubocznych
```

# Czym sÄ… czyste funkcje? 
# (pure function)

---

# y = x + 1
# dla x = 10
<Appear>
  <div >11</div>
  <div >11</div>
  <div >11</div>
  <div >dla danych wejÅ›ciowych x, funkcja zwraca zawsze ten sam wynik</div>
  <div >ZAWSZE</div>
  <div >TEN</div>
  <div >SAM</div>
  <div >WYNIK</div>
</Appear>

---

```notes
czy ta funkcja jest czysta?
matematycznie nie jest
wiec jak jest?
jest czysta na innym poziomie
jezeli wezmiemy pod uwage ze kazdy komponent to jest funkcja propsow i stanu
to taki komponent zawsze bedzie zwracaÅ‚ ten sam wynik przy tej samej konfiguracji propsow i stanu
w tym sensie jest czysty i w tym sensie hooki zbliazaja nas do programowania funkcyjnego
```

<CodeMirror
      value={useState}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
Czyste funkcje sÄ… proste dla ludzi i maszyn. 
Funkcji uczyliÅ›my siÄ™ w podstawÃ³wce na matmie.
Na odmianÄ™ przejdÅºmy na chwilÄ™ do klas...
```

<CodeMirror
      value={czystaFunkcja}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

## Kto potrafi wymieniÄ‡ reguÅ‚y jak bindowane jest `this` w JavaScriptowych klasach?

---

``` notes

KtoÅ› na rekrutacji bÄ™dzie Was pytaÅ‚ o `this`? Nie, bo rekrutujÄ…cy sami nie wiedzÄ…. 
Tylko Å¼e potem podczas pisania kodu, to Wy bÄ™dziecie siedzieÄ‡ i debugowaÄ‡ i siÄ™ frustrowaÄ‡

```

## ...bo ja nie xD

---

<div >"...this is not an author-time binding but a runtime binding. It is contextual based on the conditions of the function's invocation. this binding has nothing to do with where a function is declared, but has instead everything to do with the manner in which the function is called."</div>

_You dont know JS_

---
```notes
Funkcje sÄ… prostsze od klas. 
Temu ciÄ™zko zaprzeczyÄ‡
Funkcji uczyiÅ›my siÄ™ w podstawowce
A tego jak dzialaja jsowe klasy niektorzy z nas nigdy sie nie nauczyc

Ale czy hooki sÄ… bez wad?
Sami zobaczycie
Ale pÃ³ki co mam dla was pierwszy zestaw zÅ‚ych wiesci
zeby uzywac hookow, trzeba pamietac o paru regulach
```

<Appear>
  <div>
    <strong style={{fontSize: '2em'}}>Funkcje sÄ… prostsze </strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>Ale czy Hooki sÄ… bez wad?</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>Jak chcesz uzywac hookÃ³w, musisz nauczyc siÄ™ paru reguÅ‚</strong>
  </div>
</Appear>

---

```notes
w oficjalnej dokumentacji jest mowa o 2 regulach
ale prawda jest taka ze jest ich 3
mowiÄ… one o tym jakie sa ograniczenia w uzywaniu hookow
```

## "Rules of Hooks"
<Appear>
  <div>
    <strong style={{fontSize: '2em'}}>1. Uzywaj hookÃ³w tylko na poziomie komponentu, bezpoÅ›rednio w jego zakresie. Nie w pÄ™tli, nie w ifie, nie w zagniezdzonej funkcji</strong>
  </div>
  <div>
    <strong style={{fontSize: '2em'}}>2. Nie uzywaj hookÃ³w poza funkcyjnymi komponentami oraz wÅ‚asnymi hookami.</strong>
  </div>
</Appear>

---

# Czas na pierwsze zadania!

<Appear>
  <div >1. Zbuduj prosty komponent do wyÅ›wietlania pojedynczego kontaktu (Hint: you can use randomuser.me for user data - just copy it over to your code.)</div>
  <div >2. Zbuduj komponent ktÃ³ry wyÅ›wietla listÄ™ kontaktÃ³w</div>
  <div >3. Pokazuj/chowaj szczegÃ³Å‚y kontaktu po najechaniu kursorem (bez uzycia hover CSS)</div>
  <div >4. Dodaj funkcjonalnoÅ›Ä‡ filtrowania po imieniu</div>
  <div >5. â­Dodaj przycisk po kliknieciu spowoduje ze szczegÃ³Å‚y kontaktu bÄ™dÄ… caÅ‚y czas widoczne</div>
  <div >6. â­Filtruj po wszystkich polach, nie tylko po imieniu</div>
  <div >7. â­Filtrowanie powinno byÄ‡ niewrazliwe na wielkosc liter</div>
  <div >8. â­Dodaj przycisk do sortowania kontaktÃ³w po imieniu; klikniÄ™cie przycisku spowoduje zmiane kierunku sortowania</div>
  <div >9. â­Dodaj ikone kierunku sortowania (â†‘/â†“)</div>
</Appear>

---

<img  height="500x" src="public/qr-code.png" />

---

```notes
useState robimy na poziomie komponentu pojedynczego kontaktu, tak jest naprosiciej, tylko wtedy lista nie wiem ktory kompoennt jest 
hoverowany

```
## Hover
<Appear>
  <div>
      <CodeMirror
            value={hoverCode}
            options={{
              mode: 'jsx',
              theme: 'night-owl',
              lineNumbers: false,
              readOnly: 'nocursor',
            }}
      />
  </div>
</Appear>

---

```notes
useState robimy na poziomie komponentu pojedynczego kontaktu, 
tak jest naprosiciej, tylko wtedy lista nie wie ktory kompnent jest hoverowany
```

## Filtrowanie po imieniu
<Appear>
  <div>
      <CodeMirror
            value={filtrowaniePoImieniu}
            options={{
              mode: 'jsx',
              theme: 'night-owl',
              lineNumbers: false,
              readOnly: 'nocursor',
            }}
      />
  </div>
</Appear>

---

```notes
Ankieta live:
- Kto z Was uzywal juz useEffect?
- Kto robi to na codzien w pracy?
```

## useEffect!
<Appear>
  <div>
    <strong style={{fontSize: '2em'}}>No to teraz zaczyna siÄ™ magia!</strong>
  </div>
</Appear>

---

```notes
To jest oficjalny przykÅ‚ad z dokumentacji. 
Nie musieliÅ›cie zarywaÄ‡ soboty zeby go zobaczyc.

- jest useState i useEffect
- klikasz button, on reaguje odpaleniem setCount z nowÄ…, wiÄ™ksza wartoÅ›ciÄ…
- to triggeruje odpaleniem funkcji Example jeszcze raz. 
To co jest w return trafia plus minus na ekran, z nowym count. 
- nastÄ™pnie react sprawdza co jest w useEffect i to teÅ¼ odpala

1. Moze byc trudno uwierzyÄ‡, ale useEffect sÅ‚uzy przede wszystkim do synchronizacji danych 
2. jest niskopoziomowym API ktÃ³ry jest doÅ›Ä‡ zÅ‚ozony i malo intuicyjny
3. razem z useState oraz paroma innymi pozwala tworzyÄ‡ wÅ‚asne hooki

Wiem co chcecie zapytaÄ‡.

```

## To jest oficjalny przykÅ‚ad:
<CodeMirror
      value={oficjalnieUseEffect}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>
<Appear>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(20deg)',
        top: '30%',
        left: '20%'
      }}
    >
      Jak zyc bez cyklu zycia..?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(30deg)',
        bottom: '10%',
        left: '10%'
      }}
    >
      Gdzie pobierac dane?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(10deg)',
        bottom: '30%',
        right: '20%'
      }}
    >
      SÅ‚yszaleÅ› kiedyÅ› o animacjach?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        transform: 'rotate(-10deg)',
        bottom: '10%',
        right: '30%'
      }}
    >
       To teraz gdzie mogÄ™ ustawiÄ‡ listenera?
    </RandomlyPlaced>
  </div>
  <div>
    <RandomlyPlaced
      style={{
        top: 0,
        bottom: 0,
        left: 0,
        right: 0,
        fontWeight: 'bold',
        fontSize: '5rem',
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center',
      }}
    >
      Ogarniemy
    </RandomlyPlaced>
  </div>
</Appear>


---

```notes
Ogarniemy. Syntax

```

## Ogarniamy. Syntax.
<CodeMirror
      value={syntaxUseEffect}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
Ogarniemy. Subskrybujemy siÄ™.

```

## Ogarniamy. Subskrybujemy siÄ™.
<CodeMirror
      value={przykladowoUseEffectSub}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes
Ogarniemy. Deps.


React chce zeby useEffect wiedziaÅ‚ od czego zalezna jest ta logika w useEffect
Potrzebuje tego zeby wiedziec czy ma wÅ‚Ä…czyÄ‡ ten kod do synchronizacji podczas jego odpalenia czy nie. 

I tutaj mozna dlugo mowic o depsach. Bo co np. kiedy uzywamy w useEffect funkcji, ktÃ³ra ma jakÄ…Å› zaleznosc? W wiekszosci przypadkow wystarczy wyciagnac tÄ™ funkcje caÅ‚kiem poza komponent. Innym razem mozna wsadzic te funkcje do useEffect. SÄ… scenariusze kiedy obie strategie zawodza, wtedy... wtedy zapraszam na kolejne warsztaty gdzie zajmiemy sie miÄ™dzy innymi useCallback i useReducer :D 
```

## Ogarniemy. Deps.
<CodeMirror
      value={przykladowoUseEffectDeps}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---


```notes
Ogarniamy juÅ¼ syntax. Co dalej?

0. KolejnoÅ›Ä‡ dzialania jest taka. React najpierw renderuje tego jsx'a potem pyta sie komponentu co tam dla mnie masz w tym useEffect. React decyduje sie na uruchomienie zawartosci useEffecta po kazdym renderze.

1. Uwaga, jesteÅ›my w funkcjach, i domkniÄ™ciach. Jak useEffect siÄ™ domknie na danym zestawie propsow i state'u, to nie bÄ™dzie wiedziaÅ‚ o nowych. 

W klasach jest inaczej, w klasach, funkcje podrÃ³zujÄ… w czasie. Przez to ze `this` jest mutowalny. OczywiÅ›cie mozna to naprawiÄ‡, ale to nie na teraz.

```

## Ogarniamy juÅ¼ syntax. Co dalej?
<CodeMirror
      value={oficjalnieUseEffect}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes

Mozna mieÄ‡ wiÄ™cej niz jeden useEffect w komponencie. Czyli mozemy rozdzielic logike na mniejsze, adekwatne fragmenty. Jakby porÃ³wnanc do componenDidMount gdzie trzeba bylo wszystko do jego wrzucac do na plus.

Kazdy useEffect dostaje wtedy swoje depsy.
```

## MoÅ¼na mieÄ‡ wiÄ™cej niÅ¼ jeden useEffect
<CodeMirror
      value={kilkaUseEffect}
      options={{
        mode: 'jsx',
        theme: 'night-owl',
        lineNumbers: false,
        readOnly: 'nocursor',
      }}
/>

---

```notes

Oszukiwanie. 
Kto nigdy nie okÅ‚amaÅ‚ niech pierwszy rzuci kamieÅ„.
Na czym polega oszustwo tutaj?

Å»e podaje Å¼e ten useEffect nie ma Å¼adnych zaleÅ¼noÅ›ci, a ma - count.
Jaki jest tego skutek? 
useEffect zostanie odpalony tylko raz, a nie co kaÅ¼dy render. 
I nie jak siÄ™ count zmieni.



```

## Oszukiwanie
<Appear>
  <div>
    <CodeMirror
          value={jaChceTylkoRaz}
          options={{
            mode: 'jsx',
            theme: 'night-owl',
            lineNumbers: false,
            readOnly: 'nocursor',
          }}
    />
  </div>
</Appear>

---


# Ankieta: bit.ly/hooks-krk

---

# Czas na kolejne zadania!

<Appear>
  <div >PodpowiedÅº od razu: bÄ™dziecie musieli trochÄ™ Å‚amaÄ‡ reguÅ‚y</div>
  <div >1. Zamiast hardcodowaÄ‡ listÄ™ kontaktÃ³w, pobierz 5 kontaktÃ³w z API, np. z randomuser.me</div>
  <div >2. Dodaj loader ktory sie wyÅ›wietla podczas pobierania danych</div>
  <div >3. â­Dodaj error handling gdyby coÅ› poszÅ‚o nie tak</div>
  <div >4. â­Dodaj button â€œZaÅ‚aduj jeszcze 3â€ po klikniÄ™ciu doÅ‚aduj 3 elementy z API</div>
</Appear>

---

<img  height="500x" src="public/qr-code.png" />

---
<!-- 
```notes
No to teraz zaczyna siÄ™ magia!
Ankieta live:
- Kto z Was uzywal juz useEffect?
- Kto robi to na codzien w pracy?

WstÄ™p:
1. Moze byc trudno uwierzyÄ‡, ale useEffect sÅ‚uzy przede wszystkim do
useEffect sÅ‚uzy do synchronizacji danych 
2. jest niskopoziomowym API ktÃ³ry jest doÅ›Ä‡ zÅ‚ozony i malo intuicyjny
3. razem z useState oraz paroma innymi pozwala tworzyÄ‡ wÅ‚asne hooki

Wiem co chcecie zapytaÄ‡:
1. Jak zyc bez cyklu zycia
2. gdzie pobierac dane
3. slyszales kiedys o animacjach?
4. to teraz gdzie moge ustawic listenera/zasubsrybowac siÄ™

OgÃ³lnie da siÄ™ to wszystko ogarnaÄ‡. 
Ale trzeba trochÄ™ zmieniÄ‡ sposÃ³b myÅ›lenia i wyrobiÄ‡ sobie nowÄ… intuicje.
Polecam wziÄ…Ä‡ miesiÄ…c wolnego od Reacta, albo wejÅ›Ä‡ do innej technologi na parÄ™ miesiÄ™cy. Po powrtocie nauczyÄ‡ siÄ™ jak uzywac Reacta od zera.

To jest syntax useEffect. 
Przyjmuje funkcje w ktorej mozemy sobie np. pobrac dane, zrobic ustawianie stanu, zasubsrybowaÄ‡. Wszystko o czym marzyliÅ›cie.

Okay. To tyle. Zadanka i domu.

xD

0. KolejnoÅ›Ä‡ dzialania jest taka. React najpierw renderuje tego jsx'a potem pyta sie komponentu co tam dla mnie masz w tym useEffect. React decyduje sie na uruchomienie zawartosci useEffecta po kazdym renderze.

1. Uwaga, jesteÅ›my w funkcjach, i domkniÄ™ciach. Jak useEffect siÄ™ domknie na danym zestawie propsow i state'u, to nie bÄ™dzie wiedziaÅ‚ o nowych. 

W klasach jest inaczej, w klasach, funkcje podrÃ³zujÄ… w czasie. Przez to ze `this` jest mutowalny. OczywiÅ›cie mozna to naprawiÄ‡, ale to nie na teraz.

<Przyklad z klikaniem i alertem od danego>

2. React chce zeby useEffect wiedziaÅ‚ od czego zalezna jest ta logika w useEffect
Potrzebuje tego zeby wiedziec czy ma wÅ‚Ä…czyÄ‡ ten kod do synchronizacji podczas tego odpalenia czy nie. Nazywa siÄ™ to "Dependency array", lub po prostu "deps".

<Przyklad> Prosty przyklad, jezeli zmieni sie x to odpal hooka zeby dostosowac dane do nowych warunkow ktore zapanowaly w komponencie.

I tutaj mozna dlugo mowic o depsach. Bo co np. kiedy uzywamy w useEffect funkcji, ktÃ³ra ma jakÄ…Å› zaleznosc? W wiekszosci przypadkow wystarczy wyciagnac tÄ™ funkcje caÅ‚kiem poza komponent. Innym razem mozna wsadzic te funkcje do useEffect. SÄ… scenariusze kiedy obie strategie zawodza, wtedy... wtedy zapraszam na kolejne warsztaty gdzie zajmiemy sie miÄ™dzy innymi useCallback i useReducer :D 

3. Mozna mieÄ‡ wiÄ™cej niz jeden useEffect w komponencie. Czyli mozemy rozdzielic logike na mniejsze, adekwatne fragmenty. Jakby porÃ³wnanc do componenDidMount gdzie trzeba bylo wszystko do jego wrzucac do na plus.

Kazdy useEffect dostaje wtedy swoje depsy.

```

--- -->

```notes
Jak zrobiÄ‡ tego useEffecta z pobieraniem?
```


## Pobieranie z API
<Appear>
  <div>
      <CodeMirror
            value={useEffectRozwiazanie}
            options={{
              mode: 'jsx',
              theme: 'night-owl',
              lineNumbers: false,
              readOnly: 'nocursor',
            }}
      />
  </div>
</Appear>

---

```notes
RÃ³b co chcesz. 
Tworzymy sobie wspÃ³lnie hooka useFavouriteContact
Czyli bÄ™dziemy przechowywaÄ‡ w localStorage jeden kontakt, ktÃ³ry bÄ™dziemy traktowaÄ‡ jako ulubiony. 
BÄ™dzie miaÅ‚ podobnÄ… strukturÄ™ do useState, czyli zwrÃ³ci array, pierwszy element to ulubiony, a drugi to 
funkcja do updatowania ulubionego 
```

## useCoChcesz

<Appear>
  <div>
    <strong style={{fontSize: '2em'}}>MoÅ¼e useFavouriteContact?</strong>
  </div>
</Appear>

---

```notes
BÄ™dzie miaÅ‚ podobnÄ… strukturÄ™ do useState, czyli zwrÃ³ci array, pierwszy element to ulubiony, a drugi to 
funkcja do updatowania ulubionego.

```

## API 

<Appear>
  <div>
    <CodeMirror
            value={useFavCustom}
            options={{
              mode: 'jsx',
              theme: 'night-owl',
              lineNumbers: false,
              readOnly: 'nocursor',
            }}
      />  </div>
</Appear>

---

```notes
Gotowi Å¼eby to zobaczyÄ‡? 

Ten syntax z useStatem, Å¼e przyjmuje funkcje, to jest lazy loading. MoÅ¼na siÄ™ tutaj bardziej rozpisaÄ‡ z logikÄ… trochÄ™ jak ktoÅ› potrzebuje
```

## Gotowiec 

<Appear>
  <div>
    <CodeMirror
            value={useFavCode}
            options={{
              mode: 'jsx',
              theme: 'night-owl',
              lineNumbers: false,
              readOnly: 'nocursor',
            }}
      />  </div>
</Appear>

---

## Czas na pisanie wÅ‚asnych hookÃ³w! 

<Appear>
  <div >1. Dodaj do hooka useFavouriteContact moÅ¼liwoÅ›Ä‡ zapisywania caÅ‚ej listy ulubionych kontaktÃ³w (useFavouriteContacts)</div>
  <div >2. StwÃ³rz hooka useFetch, ktÃ³ry robi fetch na danym URL. Najlepiej, Å¼eby oddawaÅ‚ stan loading, error i odpowiedÅº.</div>
  <div >3. StwÃ³rz hooka, ktÃ³ry nasÅ‚uchuje na pozycje kursora opuszczajÄ…cego ekran i pokaÅ¼ w tym czasie Alert "Nie zostawiaj nas!"</div>
  <div >4. StwÃ³rz wyszukiwarkÄ™ dla kontaktÃ³w (auto-completion input) budujÄ…c hooka useSuggestion</div>
  <div >5. â­Generalizuj dziaÅ‚anie hooka useFavouriteContacts tak, Å¼eby moÅ¼na byÅ‚o za jego pomocÄ… zapisywaÄ‡ dowolne dane w localStorage</div>
  <div >6. â­Generalizuj tego hooka tak, Å¼eby moÅ¼na byÅ‚o wybraÄ‡ typ storage</div>
</Appear>

---

<img  height="500x" src="public/qr-code.png" />

---

# DziÄ™kujemy za udziaÅ‚!

---

# âš›ï¸ React Hooks âš›ï¸
#
#
# 07.03.2020 KrakÃ³w, Poland
---
